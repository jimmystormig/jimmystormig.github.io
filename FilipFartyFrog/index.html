<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Filip the Farty Frog</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Komika+Axis&display=swap" rel="stylesheet">
</head>
<body>
    <div class="game-container">
        <div class="game-area">
            <!-- Background clouds -->
            <div class="cloud medium cloud-1"></div>
            <div class="cloud large cloud-2"></div>
            <div class="cloud small cloud-3"></div>
            <div class="cloud medium cloud-4"></div>
            <div class="cloud small cloud-5"></div>
            <div class="cloud large cloud-6"></div>
            
            <div id="frog" class="frog">
                <div class="frog-body">
                    <div class="frog-eye"><div class="frog-pupil"></div></div>
                    <div class="frog-mouth"></div>
                </div>
                <div class="frog-legs">
                    <div class="frog-thigh front"></div>
                    <div class="frog-leg front"></div>
                    <div class="frog-thigh back"></div>
                    <div class="frog-leg back"></div>
                </div>
            </div>
            <div id="score">0</div>
            <div id="fps-counter" style="position: absolute; top: 10px; right: 10px; color: yellow; font-size: 14px; background: rgba(0,0,0,0.8); padding: 5px 8px; border-radius: 5px; font-family: monospace; z-index: 1000; font-weight: bold; white-space: nowrap;">FPS: --</div>
            <div id="start-message"><h1 class="game-title">Filip the Farty Frog</h1>Help Filip fart his way through the pipes!<br>Press Space or Tap to Start</div>
            <div id="game-over" class="hidden">Filip crashed!<br><span id="final-score"></span><br>Press Space or Tap to Restart</div>
        </div>
    </div>

    <!-- Load sound effects with mobile-friendly attributes -->
    <!-- Added crossorigin attribute to help with CORS issues -->
    <audio id="fart-sound" src="sounds/fart.mp3" preload="auto" playsinline webkit-playsinline crossorigin="anonymous"></audio>
    <audio id="hit-sound" src="sounds/hit.mp3" preload="auto" playsinline webkit-playsinline crossorigin="anonymous"></audio>
    
    <!-- Add silent audio elements for iOS audio unlocking -->
    <audio id="silent-sound" src="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjEwLjEwMAAAAAAAAAAAAAAA//tAwAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAABEgD///////////////////////////////////////////////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAX/////AAAAAAAAAAAAAAAAAAAA" preload="auto" playsinline webkit-playsinline loop></audio>
    <audio id="silent-sound-2" src="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjEwLjEwMAAAAAAAAAAAAAAA//tAwAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAABEgD///////////////////////////////////////////////////////////////////8AAAAATGF2YzU4LjEzAAAAAAAAAAAAAAAAJAX/////AAAAAAAAAAAAAAAAAAAA" preload="auto" playsinline webkit-playsinline></audio>
    
    <!-- Alternative sound backup to handle cases where MP3s might fail -->
    <audio id="alt-fart-sound" preload="auto" playsinline webkit-playsinline crossorigin="anonymous">
        <source src="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjEwLjEwMAAAAAAAAAAAAAAA//uQZAAP8AAAf4AAAAgAAA/wAAABAAAB/gAAACAAAD/AAAAEAAAAAGluZwAAAA8AAAACAAACQgBA////////////////////////////////////////////////////////////////AAAALAAAAAAAAAAAAAAAAAAATGF2YzU4Ljc3LjEwMMAAAAAAAAAAAAAAAAj7" type="audio/mpeg">
    </audio>
    
    <!-- iOS specific button to unlock audio - hidden but can be tapped -->
    <button id="audio-unlock-button" 
            style="position: absolute; bottom: 5px; right: 5px; z-index: 100; 
                  width: 40px; height: 40px; opacity: 0.7; background: rgba(0,0,0,0.2); 
                  border: 1px solid rgba(255,255,255,0.3); border-radius: 50%; 
                  color: white; font-size: 16px; display: none; cursor: pointer;
                  box-shadow: 0 0 5px rgba(0,0,0,0.2);">
        ðŸ”Š
    </button>
    
    <!-- Audio status indicator -->
    <div id="audio-status"
         style="position: absolute; top: 10px; left: 10px; z-index: 100; 
                font-size: 10px; color: white; background: rgba(0,0,0,0.3);
                padding: 2px 5px; border-radius: 3px; display: none;">
        Sound: Initializing...
    </div>
    
    <script src="game.js"></script>
</body>
</html>
